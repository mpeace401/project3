<!DOCTYPE html>


<head>
   <link href="server.css" rel="stylesheet" type="text/css">
   <style>
      .menubutton{
         width: 300px;
         height: 100px;
         margin: 10px 10px;
         left: 375px;
         top: 60px;
         right: 100px;
         
         position: relative; 
         
      }
      .categorybutton{
         width: 300px;
         height: 100px;
         margin: 10px 10px;
         left: 20px;
         
        

         position: absolute; 
         
         
      }
   </style>

   <title>Home Page</title>
</head>
<body>
   <h1>GigaChad.com</h1>

   <!-- Creates category buttons -->
   <% for (var i = 0; i < data.menuArray.length; i++) {%>
      <!-- Creates buttons 120px below the last -->
      <button class = "button categorybutton" onclick = "enableMenuButtons(<%= i %>)" style = "top : <%=60 + 120*i%>px;">
         Category 
      </button>
      <% } %>

      <!--  Creates menu buttons  -->
   <% for (var i = 0; i < data.menuArray.length; i++) {%>  
      <% for (var j = 0; j < data.menuArray[i].length; j++) {%>
         <!-- Assingns buttons into class depending on category -->
         <button class = "button menubutton <%= i %>" hidden = "hidden">
            <%= data.menuMap.get(data.menuArray[i][j]).itemname %>
         </button>
      <% } %>
      
      <% } %>
</body>

<script>
   // Function to enable a certain category of buttons on click
   let enableMenuButtons = (category) => {
 
     let disable = document.getElementsByClassName("button menubutton");
     
     for(let i = 0; i < disable.length; i++){
         let element = disable[i]
         element.setAttribute("hidden", "hidden")
      }
      let enable = document.getElementsByClassName("button menubutton " + category);
      for(let i = 0; i < enable.length; i++){
         let element = enable[i]
         element.removeAttribute("hidden")
      }
   }
 </script>